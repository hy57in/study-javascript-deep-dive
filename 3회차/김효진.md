# 16. 프로퍼티 어트리뷰트

## 16.1 내부 슬롯과 내부 메서드
모든 객체는 `[[Prototype]]` 이라는 내부 슬롯을 갖는다. `__proto__` 를 통해 간접적으로 접근할 수 있다.

## 16.2 프로퍼티 어트리뷰트와 프로퍼티 디스크립터 객체
자바스크립트 엔진은 프로퍼티를 생성할 때 프로퍼티의 상태를 나타내는 프로퍼티 어트리뷰트를 기본값으로 자동 정의한다.
프로퍼티 상태
- `[[Value]]` 프로퍼티의 값
- `[[Writable]]` 값의 갱신 가능 여부
- `[[Enumerable]]` 열거 가능 여부
- `[[Configurable]]` 재정의 가능 여부

# 17. 생성자 함수에 의한 객체 생성

this는 객체 자신의 프로퍼티나 메서드를 참조하기 위한 자기 참조 변수다. this가 가리키는 값, 즉 this 바인딩은 함수 호출 방식에 따라 동적으로 결정된다.

- 일반 호출 방식 : 전역 객체
- 메서드로서 호출 : 메서드를 호출한 객체 (마침표 앞의 객체)
- 생성자 함수로서 호출 : 생성자 함수가 (미래에) 생성할 인스턴스

바인딩이란, 식별자와 값을 연결하는 과정을 말한다. 예를 들어, 변수 선언은 변수 이름(식별자)과 확보된 메모리 공간의 주소를 바인딩하는 것이다. this 바인딩은 this(키워드로 분류되지만 식별자 역할을 한다)와 this가 가리킬 객체를 바인딩하는 것이다.


# 18. 함수와 일급 객체

일급 객체
- 무명의 리터럴로 생성할 수 있다. 즉, 런타임에 생성이 가능하다.
- 변수나 자료구조(객체, 배열 등)에 저장할 수 있다.
- 함수의 매개변수에 전달할 수 있다.
- 함수의 반환값으로 사용할 수 있다.

## 히든 클래스

https://engineering.linecorp.com/ko/blog/v8-hidden-class/

V8은 히든 클래스를 이용하여 동적 탐색(Dynamic Lookup)을 회피하고 있습니다. 한마디로 말하자면, 프로퍼티가 바뀔 때 각각 그 프로퍼티의 오프셋을 업데이트한 뒤 그 값을 가지고 있는 방식입니다.

히든 클래스에는 다음과 같은 특징이 있습니다.

- 객체는 반드시 하나의 히든 클래스를 참조한다.
- 히든 클래스는 각 프로퍼티에 대해 메모리 오프셋을 가지고 있다.
- 동적으로 새로운 프로퍼티가 만들어질 때, 혹은 기존 프로퍼티가 삭제되거나 기존 프로퍼티의 데이터 타입이 바뀔 때는 신규 히든 클래스가 생성되며, 신규 히든 클래스는 기존 프로퍼티에 대한 정보를 유지하면서 추가적으로 새 프로퍼티의 오프셋을 가지게 된다.
- 히든 클래스는 프로퍼티에 대해 변경이 발생했을 때 참조해야 하는 히든 클래스에 대한 정보를 갖는다.
- 객체에 새로운 프로퍼티가 만들어지면, 현재 참조하고 있는 히든 클래스의 전환 정보를 확인한 후, 현재 프로퍼티에 대한 변경이 전환 정보의 조건과 일치하면, 객체의 참조 히든 클래스를 조건에 명시된 히든 클래스로 변경시킨다.